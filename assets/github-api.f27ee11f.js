import{d as e,j as t,f as n}from"./app.53ab8df2.js";const r=e({props:{container:{type:String,default:"body"},pattern:{type:String,required:!0},replacement:{type:String,required:!0},prefix:{type:String,default:""},suffix:{type:String,default:""}},setup:e=>{let r;t((()=>{n((()=>e.replacement),(t=>{if(e.replacement&&""!==e.replacement){const n=r||e.pattern,a=e.prefix+t+e.suffix;((e,t,n)=>{t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),document.querySelectorAll(e).forEach((e=>{e.innerHTML=e.innerHTML.replace(t,n)}))})(e.container,n,a),r=a}}),{immediate:!0})}))}});r.render=function(e,t,n,r,a,s){return null};const a=async(e,t)=>l("latestVersion")?l("latestVersion"):await fetch(`https://api.github.com/repos/${e}/${t}/releases/latest`).then((e=>e.json())).then((n=>{var r;if(n.tag_name){const e=null!=(r=n.tag_name.match(/(\d+\.\d+)[\-\.\da-zA-Z]+/)[0])?r:"";return""!==e&&i("latestVersion",e,30),e}return fetch(`https://api.github.com/repos/${e}/${t}/tags`).then((e=>e.json())).then((e=>{var t;if(e.length){const n=null!=(t=e[0].name.match(/(\d+\.\d+)[\-\.\da-zA-Z]+/)[0])?t:"";return""!==n&&i("latestVersion",n,30),n}return""}))})),s=async(e,t)=>l("latestRelease")?l("latestRelease"):await fetch(`https://api.github.com/repos/${e}/${t}/releases/latest`).then((e=>e.json())).then((n=>{if(!1===n.prerelease){const e="latest";return i("latestRelease",e,30),e}return fetch(`https://api.github.com/repos/${e}/${t}/tags`).then((e=>e.json())).then((e=>{var t;if(e.length){const n=null!=(t=e[0].name.match(/(?<=\.\d-)[^.]+/)[0])?t:"";return""!==n&&i("latestRelease",n,30),n}return""}))}));function i(e,t,n){const r={value:t,expiry:(new Date).getTime()+1e3*n};sessionStorage.setItem(e,JSON.stringify(r))}function l(e){const t=sessionStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()>n.expiry?(sessionStorage.removeItem(e),null):n.value}export{r as _,s as a,a as g};
