import{d as e,j as t,f as n}from"./app.48ac182a.js";const a=e({props:{container:{type:String,default:"body"},pattern:{type:String,required:!0},replacement:{type:String,required:!0},prefix:{type:String,default:""},suffix:{type:String,default:""}},setup:e=>{let a;t((()=>{n((()=>e.replacement),(t=>{if(e.replacement&&""!==e.replacement){const n=a||e.pattern,r=e.prefix+t+e.suffix;((e,t,n)=>{t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),document.querySelectorAll(e).forEach((e=>{e.innerHTML=e.innerHTML.replace(t,n)}))})(e.container,n,r),a=r}}),{immediate:!0})}))}});a.render=function(e,t,n,a,r,s){return null};const r=async(e,t)=>l("latestVersion")?l("latestVersion"):await fetch(`https://api.github.com/repos/${e}/${t}/releases/latest`).then((e=>e.json())).then((n=>{var a;if(n.tag_name){const e=null!=(a=n.tag_name.match(/(\d+\.\d+)[\-\.\da-zA-Z]+/)[0])?a:"";return""!==e&&i("latestVersion",e,30),e}return fetch(`https://api.github.com/repos/${e}/${t}/tags`).then((e=>e.json())).then((e=>{var t;if(e.length){const n=null!=(t=e[0].name.match(/(\d+\.\d+)[\-\.\da-zA-Z]+/)[0])?t:"";return""!==n&&i("latestVersion",n,30),n}return""}))})),s=async(e,t)=>l("latestRelease")?l("latestRelease"):await fetch(`https://api.github.com/repos/${e}/${t}/releases/latest`).then((e=>e.json())).then((n=>{if(!1===n.prerelease){const e="latest";return i("latestRelease",e,30),e}return fetch(`https://api.github.com/repos/${e}/${t}/tags`).then((e=>e.json())).then((e=>{var t;if(e.length){const n=null!=(t=e[0].name.match(/(?<=\.\d-)[^.]+/)[0])?t:"";return""!==n&&i("latestRelease",n,30),n}return""}))}));function i(e,t,n){const a={value:t,expiry:(new Date).getTime()+1e3*n};sessionStorage.setItem(e,JSON.stringify(a))}function l(e){const t=sessionStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()>n.expiry?(sessionStorage.removeItem(e),null):n.value}export{a as _,s as a,r as g};
